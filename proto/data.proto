syntax = "proto3";

package pb;

option go_package = "server/pb";

import    "enum.proto";


message SRoleSummaryData {
  sint64                                   id                   = 1; // id
  sint64                                   cid                  = 2; // 配置cid
  sint64                                   lv                   = 3; // 等级
  string                                   name                 = 4; // 角色名字
  sint64                                   icon                 = 5; // 头像
  sint64                                   young_ts             = 6; // 当天累计防沉迷时间
  sint64                                   create_ts            = 7; // 创角时间
}

// 登陆必要数据
message SLoginData {
  bool                                     regain               = 1; // true-有可以找回的资源
  STime                                    time                 = 2;
}

// 统一对象
message SObject {
  EObjType.T                               objType              = 1; // 主类型
  sint64                                   subType              = 2; // 子类型
  sint64                                   count                = 3; // 数量
}

message SAward {
  sint64                                   batch                = 1;
  sint64                                   bind                 = 2;
  sint64                                   weight               = 3;
  sint64                                   job                  = 4;
  SObject                                  object               = 5;
  sint64                                   due                  = 6;
}

message SItem {
  sint64                                   idx                  = 1; // 编号
  sint64                                   id                   = 2; // 唯一id
  sint64                                   cid                  = 3; // 配置id
  sint64                                   count                = 4; // 数量
  sint64                                   bind                 = 5; // 是否绑定 0-非绑定，1-绑定
  sint64                                   due                  = 6; // 有效时间 0 为无限期
}


message STime {
  sint64                                   dsec                 = 1; // 今日在线时间 秒
  sint64                                   wsec                 = 2; // 本周在线时间 秒
  sint64                                   wday                 = 3; // 本周在线天数
  sint64                                   sec                  = 4; // 总在线时间
  sint64                                   young                = 5; // 防沉迷时间
  sint64                                   login_time           = 6; // 本次登录时间
  sint64                                   open_day             = 7; // 服务器开服天数
  sint64                                   merge_day            = 8; // 服务器合服天数，未合服为0
}

message SAttr {
  EAttrType.T                              ty                   = 1; // 类型
  sint64                                   val                  = 2; // 值
  sint64                                   rate                 = 3; // 比率
}

message SVector {
  sint64                                   x                    = 1;
  sint64                                   y                    = 2;
  sint64                                   z                    = 3;
}
